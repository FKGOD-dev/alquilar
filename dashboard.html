<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control - Turnero</title>
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <div class="logo" onclick="window.location.href='index.html'">
                <div class="logo-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <div class="logo-text">Turnero</div>
            </div>
            
            <nav class="nav-menu">
                <a href="#dashboard" class="nav-link active">Dashboard</a>
                <a href="#reservas" class="nav-link">Reservas</a>
                <a href="#clientes" class="nav-link">Clientes</a>
                <a href="#reportes" class="nav-link">Reportes</a>
                <a href="#configuracion" class="nav-link">Configuración</a>
            </nav>

            <div class="nav-actions">
                <div class="notifications">
                    <button class="notification-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                        </svg>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
                <div class="user-menu">
                    <div class="user-info">
                        <span class="user-name">Juan Díaz</span>
                        <span class="user-role">Propietario</span>
                    </div>
                    <div class="user-avatar">JD</div>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-container">
        <!-- Page Header -->
        <div class="page-header">
            <div class="header-content">
                <h1 class="page-title">Panel de Control</h1>
                <p class="page-subtitle">Resumen ejecutivo de su complejo deportivo</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="exportReport()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                    </svg>
                    Exportar Reporte
                </button>
                <button class="btn btn-primary" onclick="addReservation()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
                    </svg>
                    Nueva Reserva
                </button>
            </div>
        </div>

        <!-- KPI Cards -->
        <div class="kpi-grid">
            <div class="kpi-card revenue">
                <div class="kpi-header">
                    <div class="kpi-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"/>
                        </svg>
                    </div>
                    <div class="kpi-trend positive">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7,14L12,9L17,14H7Z"/>
                        </svg>
                        +12.5%
                    </div>
                </div>
                <div class="kpi-content">
                    <div class="kpi-value" id="ingresosMes">$127,500</div>
                    <div class="kpi-label">Ingresos del mes</div>
                    <div class="kpi-sublabel">vs. mes anterior</div>
                </div>
            </div>

            <div class="kpi-card bookings">
                <div class="kpi-header">
                    <div class="kpi-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"/>
                        </svg>
                    </div>
                    <div class="kpi-trend positive">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7,14L12,9L17,14H7Z"/>
                        </svg>
                        +8.3%
                    </div>
                </div>
                <div class="kpi-content">
                    <div class="kpi-value" id="reservasHoy">23</div>
                    <div class="kpi-label">Reservas hoy</div>
                    <div class="kpi-sublabel">vs. promedio semanal</div>
                </div>
            </div>

            <div class="kpi-card customers">
                <div class="kpi-header">
                    <div class="kpi-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16,4C18.21,4 20,5.79 20,8C20,10.21 18.21,12 16,12C13.79,12 12,10.21 12,8C12,5.79 13.79,4 16,4M16,14C18.67,14 24,15.33 24,18V20H8V18C8,15.33 13.33,14 16,14M8,4C10.21,4 12,5.79 12,8C12,10.21 10.21,12 8,12C5.79,12 4,10.21 4,8C4,5.79 5.79,4 8,4M8,14C10.67,14 16,15.33 16,18V20H0V18C0,15.33 5.33,14 8,14Z"/>
                        </svg>
                    </div>
                    <div class="kpi-trend positive">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7,14L12,9L17,14H7Z"/>
                        </svg>
                        +15.2%
                    </div>
                </div>
                <div class="kpi-content">
                    <div class="kpi-value" id="clientesActivos">156</div>
                    <div class="kpi-label">Clientes activos</div>
                    <div class="kpi-sublabel">últimos 30 días</div>
                </div>
            </div>

            <div class="kpi-card rating">
                <div class="kpi-header">
                    <div class="kpi-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.46,13.97L5.82,21L12,17.27Z"/>
                        </svg>
                    </div>
                    <div class="kpi-trend positive">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M7,14L12,9L17,14H7Z"/>
                        </svg>
                        +0.2
                    </div>
                </div>
                <div class="kpi-content">
                    <div class="kpi-value" id="ratingPromedio">4.8</div>
                    <div class="kpi-label">Calificación promedio</div>
                    <div class="kpi-sublabel">47 reseñas este mes</div>
                </div>
            </div>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Main Content -->
            <div class="main-content">
                <!-- Revenue Chart -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Análisis de Ingresos</h3>
                        <div class="card-actions">
                            <select class="period-select">
                                <option value="6m">Últimos 6 meses</option>
                                <option value="12m">Último año</option>
                                <option value="24m">Últimos 2 años</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Reservations Table -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Reservas del Día</h3>
                        <div class="card-actions">
                            <button class="btn btn-text" onclick="refreshReservations()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
                                </svg>
                                Actualizar
                            </button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Horario</th>
                                        <th>Cliente</th>
                                        <th>Contacto</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="reservationsTable">
                                    <!-- Las reservas se cargarán dinámicamente -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Calendar Widget -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Calendario</h3>
                        <div class="card-actions">
                            <button class="btn btn-text" onclick="goToToday()">Hoy</button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="calendar-widget">
                            <div class="calendar-nav">
                                <button class="nav-btn" onclick="previousMonth()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"/>
                                    </svg>
                                </button>
                                <span class="calendar-title" id="calendarTitle">Agosto 2025</span>
                                <button class="nav-btn" onclick="nextMonth()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="calendar-grid" id="calendarGrid">
                                <!-- El calendario se generará dinámicamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Acciones Rápidas</h3>
                    </div>
                    <div class="card-content">
                        <div class="action-list">
                            <button class="action-item" onclick="openPriceModal()">
                                <div class="action-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M7,15H9C9,16.08 10.37,17 12,17C13.63,17 15,16.08 15,15C15,13.9 13.96,13.5 11.76,12.97C9.64,12.44 7,11.78 7,9C7,7.21 8.47,5.69 10.5,5.18V3H13.5V5.18C15.53,5.69 17,7.21 17,9H15C15,7.92 13.63,7 12,7C10.37,7 9,7.92 9,9C9,10.1 10.04,10.5 12.24,11.03C14.36,11.56 17,12.22 17,15C17,16.79 15.53,18.31 13.5,18.82V21H10.5V18.82C8.47,18.31 7,16.79 7,15Z"/>
                                    </svg>
                                </div>
                                <div class="action-content">
                                    <div class="action-title">Configurar Precios</div>
                                    <div class="action-subtitle">Ajustar tarifas y descuentos</div>
                                </div>
                            </button>

                            <button class="action-item" onclick="openScheduleModal()">
                                <div class="action-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                                    </svg>
                                </div>
                                <div class="action-content">
                                    <div class="action-title">Gestionar Horarios</div>
                                    <div class="action-subtitle">Disponibilidad y bloqueos</div>
                                </div>
                            </button>

                            <button class="action-item" onclick="openReportsModal()">
                                <div class="action-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M3,3H21A2,2 0 0,1 23,5V19A2,2 0 0,1 21,21H3A2,2 0 0,1 1,19V5A2,2 0 0,1 3,3M3,9V19H11V9H3M13,9V14H21V9H13M13,16V19H21V16H13Z"/>
                                    </svg>
                                </div>
                                <div class="action-content">
                                    <div class="action-title">Ver Reportes</div>
                                    <div class="action-subtitle">Análisis y estadísticas</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Actividad Reciente</h3>
                    </div>
                    <div class="card-content">
                        <div class="activity-feed" id="activityFeed">
                            <!-- Las actividades se cargarán dinámicamente -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para configurar precios -->
    <div class="modal" id="priceModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Configuración de Precios</h2>
                <button class="modal-close" onclick="closeModal('priceModal')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Precio por hora (Lunes a Viernes)</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="number" class="form-input" value="8000" id="precioSemana" step="100">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Precio por hora (Fines de semana)</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="number" class="form-input" value="10000" id="precioFinSemana" step="100">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Descuento por múltiples horas</label>
                    <div class="input-group">
                        <input type="number" class="form-input" value="10" id="descuentoMultiple" min="0" max="50" step="1">
                        <span class="input-suffix">%</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('priceModal')">Cancelar</button>
                    <button class="btn btn-primary" onclick="savePrices()">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html>