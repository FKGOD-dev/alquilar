<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Complejo Deportivo Central - Turnero</title>
  <link rel="stylesheet" href="css/cancha-detalle.css"/>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="nav-container">
      <div class="logo" onclick="window.location.href='index.html'">
        <div class="logo-icon">T</div>
        <div class="logo-text">Turnero</div>
      </div>
      <div class="nav-buttons">
        <button class="theme-toggle" id="themeToggle" title="Cambiar tema" onclick="toggleTheme()"></button>
        <button class="search-btn" onclick="window.location.href='buscar.html'" title="Buscar canchas">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Hero -->
    <section class="hero-section reveal">
      <div class="hero-image" id="heroImage" onclick="openGallery()">
        <div class="hero-initials">CDC</div>
        <div class="image-overlay">
          <button class="gallery-btn" onclick="event.stopPropagation(); openGallery()">Ver galería</button>
        </div>
      </div>
      <div class="hero-content">
        <div class="title-section">
          <div>
            <h1 class="cancha-title" id="clubName">Complejo Deportivo Central</h1>

            <!-- Dirección en chip clickeable -->
            <button class="address-chip" id="clubAddress" type="button" title="Ver en Google Maps" onclick="openMaps()">
              <span class="chip-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 21s-6-5.33-6-10a6 6 0 0 1 12 0c0 4.67-6 10-6 10z"/><circle cx="12" cy="11" r="2.5"/>
                </svg>
              </span>
              <span class="chip-text">Av. Corrientes 1234, Villa Crespo, CABA</span>
            </button>
          </div>
          <div class="price-section">
            <div class="price" id="price" style="display:none"></div>
            <button class="reserve-btn btn-raise" id="reserveBtn" disabled onclick="iniciarReserva()">Seleccionar horario</button>
          </div>
        </div>

        <!-- Etiquetas informativas -->
        <div class="tags-bar" id="tagsBar">
          <span class="tag">Vestuarios</span>
          <span class="tag">Estacionamiento</span>
          <span class="tag">Iluminación LED</span>
          <span class="tag">Césped sintético</span>
          <span class="tag">Seguridad 24hs</span>
          <span class="tag">Profesores</span>
          <span class="tag">Cristal</span>
          <span class="tag">Techada</span>
        </div>
      </div>
    </section>

    <!-- Planner (orden pedido): fecha IZQ, deporte MEDIO, cancha DER -->
    <section class="card reveal">
      <div class="planner-header">
        <!-- Slider de fecha (izquierda) -->
        <div class="date-slider" role="group" aria-label="Cambiar fecha">
          <button id="prevDay" class="date-btn btn-raise" type="button" aria-label="Día anterior">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="date-body">
            <span class="date-icon">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
            </span>
            <span class="date-label" id="dateLabel">—</span>
          </div>
          <button id="nextDay" class="date-btn btn-raise" type="button" aria-label="Día siguiente">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>

        <!-- Deporte (centro) -->
        <div class="select" id="sportSelect" aria-haspopup="listbox" aria-expanded="false">
          <button class="select-trigger btn-raise" type="button" id="sportTrigger">
            <span class="select-label">Deporte</span>
            <span class="select-value" id="sportValue">Elegí deporte</span>
            <svg class="select-caret" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          <div class="select-menu" id="sportMenu" role="listbox"></div>
        </div>

        <!-- N° de cancha (derecha) -->
        <div class="select disabled" id="courtSelect" aria-haspopup="listbox" aria-expanded="false" aria-disabled="true">
          <button class="select-trigger btn-raise" type="button" id="courtTrigger" disabled>
            <span class="select-label">N° cancha</span>
            <span class="select-value" id="courtValue">Elegí cancha</span>
            <svg class="select-caret" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </button>
          <div class="select-menu" id="courtMenu" role="listbox"></div>
        </div>
      </div>

      <div class="time-slots" id="slotsRow"></div>

      <!-- Leyenda -->
      <div class="legend">
        <span class="legend-item"><span class="dot dot-available"></span>Disponible</span>
        <span class="legend-item"><span class="dot dot-selected"></span>Seleccionado</span>
        <span class="legend-item"><span class="dot dot-occupied"></span>Ocupado</span>
      </div>
    </section>

    <!-- Info: descripción + contacto -->
    <section class="info-grid reveal">
      <div class="info-card">
        <h2 class="info-title">Descripción</h2>
        <p class="description">
          Complejo deportivo en el corazón de Villa Crespo con canchas de césped sintético, vestuarios,
          parrilla y estacionamiento. Ideal para juntadas, torneos y entrenamientos.
        </p>
      </div>

      <div class="info-card">
        <h2 class="info-title">Información de contacto</h2>
        <div class="contact-row">
          <span class="icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.74 19.74 0 0 1-8.59-3.06 19.5 19.5 0 0 1-6-6A19.74 19.74 0 0 1 2.09 4.18 2 2 0 0 1 4.1 2h3A2 2 0 0 1 9 3.72c.12.9.31 1.77.57 2.62a2 2 0 0 1-.45 2.11L8 9a16 16 0 0 0 7 7l.55-1.12a2 2 0 0 1 2.11-.45c.85.26 1.72.45 2.62.57A2 2 0 0 1 22 16.92z"/>
            </svg>
          </span>
          <a href="tel:+541112345678" class="contact-link">+54 11 1234-5678</a>
        </div>
        <div class="contact-row">
          <span class="icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
              <path d="M4 4h16v16H4z"/><path d="m22 6-10 7L2 6"/>
            </svg>
          </span>
          <a href="mailto:info@complejocentral.com.ar" class="contact-link">info@complejocentral.com.ar</a>
        </div>
        <div class="contact-row">
          <span class="icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
              <circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
          </span>
          <a href="#" class="contact-link">www.complejocentral.com.ar</a>
        </div>
        <div class="contact-row">
          <span class="icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/>
            </svg>
          </span>
          <a href="#" class="contact-link">@complejocentral</a>
        </div>
      </div>
    </section>

    <!-- Reseñas -->
    <section class="card reviews-section reveal">
      <div class="reviews-header">
        <h2 class="info-title">Reseñas de usuarios</h2>
        <button class="btn btn-primary btn-raise" onclick="openReviewModal()">Escribir reseña</button>
      </div>

      <div class="rating-kpi">
        <div class="rating-score" id="currentRating">4.2</div>
        <div class="rating-meta">
          <span class="stars-static">
            <span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star empty">☆</span>
          </span>
          <span class="muted">basado en <span id="reviewCount">47</span> reseñas</span>
        </div>
      </div>

      <div id="reviewsList" class="reviews-list">
        <div class="review-item">
          <div class="review-header">
            <div class="reviewer">
              <span class="reviewer-name">Carlos M.</span>
              <span class="review-date">Hace 3 días</span>
            </div>
            <span class="stars" data-rating="5">
              <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            </span>
          </div>
          <p class="review-text">Excelente cancha. Todo impecable, volveremos.</p>
        </div>

        <div class="review-item">
          <div class="review-header">
            <div class="reviewer">
              <span class="reviewer-name">María L.</span>
              <span class="review-date">Hace 1 semana</span>
            </div>
            <span class="stars" data-rating="4">
              <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            </span>
          </div>
          <p class="review-text">Buena ubicación y estacionamiento seguro.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Galería -->
  <div class="modal" id="galleryModal" aria-hidden="true">
    <div class="modal-content modal-glass gallery-minimal">
      <button class="close-ghost" onclick="closeModal('galleryModal')" aria-label="Cerrar">×</button>
      <div class="gallery-stage">
        <button class="gallery-arrow left" onclick="changeImage(-1)" aria-label="Anterior">‹</button>
        <img id="currentImage" class="gallery-image" src="" alt="Imagen del complejo">
        <button class="gallery-arrow right" onclick="changeImage(1)" aria-label="Siguiente">›</button>
      </div>
      <div class="gallery-counter" id="galleryCounter">
        <span id="currentIndex">1</span>/<span id="totalImages">8</span>
      </div>
    </div>
  </div>

  <!-- Modal reseña -->
  <div class="modal" id="reviewModal" aria-hidden="true">
    <div class="modal-content modal-glass" style="max-width: 560px;">
      <button class="close-ghost" onclick="closeModal('reviewModal')" aria-label="Cerrar">×</button>
      <form class="review-form" id="reviewForm" onsubmit="submitReview(event)">
        <h2 class="form-title">Dejar una reseña</h2>
        <p class="form-sub">Contanos cómo fue tu experiencia en el complejo.</p>

        <div class="form-row">
          <label class="form-label" for="ratingInput">Tu puntuación</label>
          <div class="rating-input" id="ratingInput">
            <span class="star-input" data-rating="1" onclick="setRating(1)">★</span>
            <span class="star-input" data-rating="2" onclick="setRating(2)">★</span>
            <span class="star-input" data-rating="3" onclick="setRating(3)">★</span>
            <span class="star-input" data-rating="4" onclick="setRating(4)">★</span>
            <span class="star-input" data-rating="5" onclick="setRating(5)">★</span>
          </div>
        </div>

        <div class="form-row">
          <label class="form-label" for="reviewerName">Tu nombre</label>
          <input type="text" class="form-input" id="reviewerName" placeholder="Ej: Juan P.">
        </div>

        <div class="form-row">
          <label class="form-label" for="reviewText">Tu reseña</label>
          <textarea class="form-input form-textarea" id="reviewText" placeholder="Escribí tu comentario..."></textarea>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary btn-raise" onclick="closeModal('reviewModal')">Cancelar</button>
          <button type="submit" class="btn btn-primary btn-raise">Publicar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal éxito reseña: centrado, clean, translúcido, SOLO botón Cerrar -->
  <div class="modal" id="reviewSuccessModal" aria-hidden="true">
    <div class="modal-content modal-glass success-minimal">
      <div class="success-anim">
        <svg viewBox="0 0 64 64" class="check-svg">
          <circle cx="32" cy="32" r="30" class="check-ring"/>
          <polyline points="18,34 28,44 46,22" class="check-tick"/>
        </svg>
      </div>
      <h2 class="modal-title center">Reseña publicada con éxito</h2>
      <div class="modal-actions center">
        <button class="btn btn-primary btn-raise" onclick="closeModal('reviewSuccessModal')">Cerrar</button>
      </div>
    </div>
  </div>

  <script src="js/cancha-detalle.js" defer></script>
</body>
</html>