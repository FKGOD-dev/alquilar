/* ===== Reset / base ===== */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  --bg: #0a0a0a;
  --text: #ffffff;
  --card: rgba(255,255,255,.05);
  --card-border: rgba(255,255,255,.08);
  --muted: rgba(255,255,255,.75);
  --muted-2: rgba(255,255,255,.55);

  --brand: #10b981;
  --brand-2: #059669;

  --blue: #2563eb;
  --blue-soft-bg: rgba(37, 99, 235, .22);
  --blue-soft-bd: rgba(37, 99, 235, .42);
  --blue-soft-dot: rgba(37, 99, 235, .55);

  --yellow: #F6D36B;
  --danger: #ef4444;

  --radius-lg: 14px;
  --radius-md: 12px;
  --radius-sm: 8px;

  --control-h: 44px;

  --shadow-raise: 0 10px 30px rgba(0,0,0,.28);
  --shadow-soft: 0 10px 18px rgba(0,0,0,.18);
}

@media (prefers-reduced-motion:no-preference){
  :root{ --t: .22s; --t-slow: .45s; }
}
@media (prefers-reduced-motion:reduce){
  :root{ --t: 0s; --t-slow: 0s; }
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  line-height: 1.45;
}

/* Header */
.header{
  position: sticky; top: 0; z-index: 100;
  background: rgba(0,0,0,.85);
  border-bottom: 1px solid rgba(255,255,255,.08);
  backdrop-filter: saturate(140%) blur(6px);
  transition: background var(--t), border-color var(--t), backdrop-filter var(--t);
}
.header.scrolled{ background: rgba(0,0,0,.78); }

.nav-container { max-width: 1160px; margin: 0 auto; padding: 14px 20px; display: flex; justify-content: space-between; align-items: center; }
.logo { display:flex; align-items:center; gap:12px; cursor:pointer; }
.logo-icon { width:32px; height:32px; border-radius:6px; background:var(--brand); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700; }
.logo-text { font-weight:700; }
.nav-buttons { display:flex; gap:10px; }
.theme-toggle,.search-btn{
  width:36px; height:36px; border-radius:50%;
  background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15);
  color:rgba(255,255,255,.9);
  display:flex; align-items:center; justify-content:center;
  transition: transform var(--t), box-shadow var(--t), background var(--t);
}
.theme-toggle:hover,.search-btn:hover{ transform: scale(1.05); box-shadow: var(--shadow-soft); }

/* Container */
.container { max-width: 1160px; margin: 24px auto; padding: 0 20px; }

/* Hero */
.hero-section { background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius-lg); overflow: hidden; margin-bottom: 24px; }
.hero-image {
  height: 280px;
  background: linear-gradient(135deg,#0ea374,#047857);
  background-size: cover; background-position: center;
  position: relative; display:flex; align-items:center; justify-content:center;
  transition: transform var(--t);
}
.hero-image:hover{ transform: scale(1.015); }
.hero-initials { font-size: 48px; font-weight: 800; color: #fff; letter-spacing: 2px; text-shadow: 0 8px 28px rgba(0,0,0,.35); }
.image-overlay{ position:absolute; inset:0; background: rgba(0,0,0,.25); display:flex; align-items:center; justify-content:center; opacity:0; transition: opacity var(--t); }
.hero-image:hover .image-overlay{ opacity:1; }
.gallery-btn{ background:#fff; color:#1e293b; border:none; padding:10px 16px; border-radius:var(--radius-md); font-weight:700; cursor:pointer; transition: transform var(--t), box-shadow var(--t); }
.gallery-btn:hover{ transform:scale(1.03); box-shadow: var(--shadow-soft); }

.hero-content { padding: 22px 24px 24px; }
.title-section{ display:flex; align-items:flex-start; justify-content:space-between; gap:18px; flex-wrap:wrap; }
.cancha-title{ font-size: 28px; letter-spacing:-.5px; margin-bottom:8px; }

/* Dirección chip */
.address-chip{
  display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:999px;
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); color:#e5e7eb;
  cursor:pointer; transition: transform var(--t), box-shadow var(--t), border-color var(--t), background var(--t);
}
.address-chip:hover{ transform: translateY(-1px); box-shadow: var(--shadow-soft); border-color: rgba(255,255,255,.22); }
.chip-icon{ display:inline-flex; align-items:center; justify-content:center; width:22px; height:22px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); border-radius:8px; }
.chip-text{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 56vw; }

.price-section{ text-align:right; }
.price{ color:var(--brand); font-weight:800; font-size:22px; margin-bottom:10px; }
.reserve-btn{ background:linear-gradient(135deg,var(--brand),var(--brand-2)); border:none; color:#fff; font-weight:800; padding:10px 18px; border-radius:var(--radius-md); cursor:pointer; }
.reserve-btn:disabled{ opacity:.5; cursor:not-allowed; }

.btn-raise{ transition: transform var(--t), box-shadow var(--t); }
.btn-raise:hover{ transform: translateY(-1px) scale(1.02); box-shadow: var(--shadow-raise); }

/* Tags */
.tags-bar{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; margin-top:16px; }
.tag{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); color:#e5e7eb; padding:8px 12px; border-radius:999px; font-weight:600; user-select:none; }

/* Card base */
.card{ background: var(--card); border: 1px solid var(--card-border); border-radius: var(--radius-lg); padding: 20px; margin-bottom: 24px; }

/* Planner */
.planner-header{ display:flex; align-items:center; justify-content:space-between; gap:14px; flex-wrap:wrap; margin-bottom: 16px; }
.date-slider{ flex: 0 0 auto; } /* mantiene tamaño original */

/* Date slider */
.date-slider{
  display:flex; align-items:center; gap:10px; padding: 6px 8px; border-radius: var(--radius-md);
  background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); min-height: var(--control-h);
}
.date-btn{ width:36px; height:36px; border-radius:10px; border:1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.06); color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: transform var(--t), box-shadow var(--t); }
.date-btn:hover{ transform: translateY(-1px) scale(1.02); box-shadow: var(--shadow-soft); }
.date-body{ display:flex; align-items:center; gap:8px; padding: 8px 12px; border-radius: 10px; background: rgba(255,255,255,.04); border:none; }
.date-icon{ opacity:.8; display:inline-flex; }
.date-label{ font-weight:800; letter-spacing:.2px; }

/* Select (deporte/cancha) */
.select{ position:relative; min-width: 240px; }
.select.disabled .select-trigger{ opacity:.55; pointer-events:none; }
.select-trigger{
  width:100%; display:flex; align-items:center; justify-content:space-between; gap:12px;
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
  color:#e5e7eb; padding:10px 14px; border-radius:var(--radius-md); font-weight:800; cursor:pointer;
  min-height: var(--control-h);
}
.select-label{ opacity:.75; font-weight:800; }
.select-value{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.select-caret{ flex:0 0 auto; opacity:.8; transition: transform var(--t); }
.select.open .select-caret{ transform: rotate(180deg); }
.select-menu{
  position:absolute; top:calc(100% + 8px); right:0; z-index:30;
  background:rgba(12,12,14,.75); border:1px solid rgba(255,255,255,.1); border-radius:var(--radius-md); min-width: 270px; box-shadow:0 20px 40px rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  padding:6px; display:none;
}
.select.open .select-menu{ display:block; }
.select-option{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:8px; cursor:pointer; color:#e5e7eb;
}
.select-option:hover{ background:rgba(255,255,255,.06); }
.select-option.active{ background:rgba(16,185,129,.18); color:var(--brand); }

/* Horarios */
.time-slots{ display:grid; grid-template-columns: repeat(4,1fr); gap:12px; margin-top: 6px; }
.time-slot{ padding:12px 10px; border-radius:10px; font-weight:800; text-align:center; border:1px solid transparent; cursor:pointer; transition: background var(--t), border-color var(--t), transform var(--t), box-shadow var(--t), color var(--t), opacity var(--t); }
.time-slot.available{ background:rgba(16,185,129,.18); border-color:rgba(16,185,129,.32); color:var(--brand); }
.time-slot.available:hover{ transform: translateY(-1px) scale(1.02); box-shadow: var(--shadow-soft); }
.time-slot.occupied{ background:rgba(239,68,68,.15); border-color:rgba(239,68,68,.32); color:var(--danger); cursor:not-allowed; }
.time-slot.selected{ background: var(--blue-soft-bg); border-color: var(--blue-soft-bd); color:#dbeafe; box-shadow: 0 8px 22px rgba(37,99,235,.18); }
.time-slot.locked{ opacity:.6; cursor:not-allowed; }

/* Leyenda */
.legend{ display:flex; align-items:center; gap:16px; flex-wrap:wrap; margin-top: 14px; }
.legend-item{ display:inline-flex; align-items:center; gap:8px; color:var(--muted); font-weight:600; }
.dot{ width:12px; height:12px; border-radius:50%; display:inline-block; border:1px solid transparent; }
.dot-available{ background:rgba(16,185,129,.18); border-color:rgba(16,185,129,.32); }
.dot-selected{ background: var(--blue-soft-dot); border-color: var(--blue-soft-bd); }
.dot-occupied{ background:rgba(239,68,68,.15); border-color:rgba(239,68,68,.32); }

/* Info grid */
.info-grid{ display:grid; grid-template-columns: 1fr 1fr; gap:24px; margin-bottom:24px; }
.info-card{ background: var(--card); border:1px solid var(--card-border); border-radius: var(--radius-lg); padding:18px; }
.info-title{ font-size:18px; font-weight:800; margin-bottom:8px; }
.description{ color:rgba(255,255,255,.82); line-height:1.7; }

/* Contacto */
.contact-row{ display:flex; align-items:center; gap:10px; margin:8px 0; }
.icon{ width:28px; height:28px; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:8px; flex:0 0 28px; }
.contact-link{ color:rgba(255,255,255,.85); text-decoration:none; }
.contact-link:hover{ text-decoration:underline; }

/* Reseñas */
.reviews-section .reviews-header{ display:flex; align-items:center; justify-content:space-between; }
.rating-kpi{ display:flex; align-items:center; gap:16px; padding:12px 0 10px; border-bottom:1px solid var(--card-border); margin-bottom:16px; }
.rating-score{ font-size:44px; font-weight:900; letter-spacing:-1px; color:#fff; }
.rating-meta{ display:flex; flex-direction:column; gap:4px; color:var(--muted); }
.stars-static .star.filled{ color: var(--yellow); }
.stars-static .star.empty{ color: rgba(255,255,255,.28); }

.reviews-list{ display:grid; gap:12px; }
.review-item{ background:rgba(255,255,255,.04); border:1px solid var(--card-border); border-radius:12px; padding:14px; transform: translateY(8px); opacity: 0; transition: opacity var(--t-slow), transform var(--t-slow); }
.review-item.is-visible{ transform: none; opacity: 1; }
.review-header{ display:flex; align-items:center; gap:12px; justify-content:space-between; }
.reviewer{ display:flex; flex-direction:column; }
.reviewer-name{ font-weight:800; }
.review-date{ color:var(--muted-2); font-size:12px; }
.review-text{ color:rgba(255,255,255,.88); line-height:1.6; margin-top:8px; }
.stars .star{ font-size:18px; margin-left:2px; color: rgba(255,255,255,.28); }
.stars .star.filled{ color: var(--yellow); }

/* Botones */
.btn{ padding:10px 16px; border-radius:var(--radius-md); border:1px solid transparent; cursor:pointer; }
.btn-primary{ background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; font-weight:800; }
.btn-secondary{ background:rgba(255,255,255,.08); color:#fff; border-color:rgba(255,255,255,.12); }
.btn-raise{ transition: transform var(--t), box-shadow var(--t); }
.btn-raise:hover{ transform: translateY(-1px) scale(1.02); box-shadow: var(--shadow-raise); }

/* Modales + animación de aparición */
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.70); display:none; align-items:center; justify-content:center; z-index:1000; }
.modal.show{ display:flex; }
.modal-content{ background:#0b0b0b; color:#e5e7eb; border:1px solid #242424; border-radius:var(--radius-lg); width:min(96vw,1100px); max-height:90vh; overflow:hidden; position:relative;
  transform: translateY(6px) scale(.98); opacity:0; transition: transform var(--t-slow), opacity var(--t-slow);
}
.modal.show .modal-content{ transform: none; opacity: 1; }

/* Glass */
.modal-glass{
  background: rgba(12,12,14,.72);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(12px) saturate(140%);
}

.close-ghost{
  position:absolute; top:10px; right:10px; width:36px; height:36px; border-radius:50%;
  background:rgba(255,255,255,.18); color:#fff; border:none; font-size:22px; cursor:pointer; z-index:3;
  transition: transform var(--t), box-shadow var(--t), opacity var(--t);
}
.close-ghost:hover{ transform: scale(1.06); box-shadow: 0 8px 24px rgba(0,0,0,.35); opacity:.95; }

/* Galería (tamaño fijo + flechas clean) */
.gallery-minimal{ width:min(96vw,1100px); height:min(86vh,720px); padding:0; position:relative; }
.gallery-stage{ position:relative; width:100%; height:calc(100% - 48px); padding:20px; display:flex; align-items:center; justify-content:center; }
.gallery-image{ width:100%; height:100%; object-fit:contain; border-radius:10px; }
.gallery-arrow{
  position:absolute; top:50%; transform: translateY(-50%); background:none; border:none; color:#fff;
  font-size:56px; line-height:1; cursor:pointer; padding:10px; text-shadow: 0 6px 24px rgba(0,0,0,.35);
  transition: transform var(--t), opacity var(--t);
}
.gallery-arrow.left{ left:12px; }
.gallery-arrow.right{ right:12px; }
.gallery-arrow:hover{ transform: translateY(-50%) scale(1.12); opacity:.9; }
.gallery-counter{ height:48px; display:flex; align-items:center; justify-content:center; color:#e5e7eb; font-weight:700; }

/* Modal éxito centrado con check animado */
.success-minimal{ width:min(92vw,460px); padding:24px 24px 20px; text-align:center; }
.success-anim{ display:flex; align-items:center; justify-content:center; padding:8px 0 10px; }
.check-svg{ width:86px; height:86px; }
.check-ring{ fill:none; stroke:rgba(255,255,255,.25); stroke-width:4; }
.check-tick{ fill:none; stroke:#10b981; stroke-width:5; stroke-linecap:round; stroke-linejoin:round; stroke-dasharray:90; stroke-dashoffset:90; animation: drawTick .7s ease forwards .1s; }
@keyframes drawTick{ to{ stroke-dashoffset:0; } }
.modal-title.center{ margin: 6px 0 12px; }

/* Form reseña */
.review-form{ padding:22px; display:flex; flex-direction:column; gap:14px; }
.form-title{ font-size:20px; font-weight:900; }
.form-sub{ color:var(--muted); margin-top:-6px; }
.form-row{ display:flex; flex-direction:column; gap:8px; }
.form-label{ font-weight:800; }
.form-input{ width:100%; padding:12px; border-radius:10px; border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06); color:#e5e7eb; }
.form-textarea{ min-height:120px; resize:vertical; }
.rating-input{ display:flex; gap:6px; font-size:26px; }
.star-input{ color:rgba(255,255,255,.35); cursor:pointer; transition: transform var(--t); }
.star-input:hover{ color:var(--yellow); transform: translateY(-1px) scale(1.05); }
.form-actions{ display:flex; gap:10px; justify-content:flex-end; padding-top:4px; }

/* Toast (solo warnings/errores) */
.glass-toast{
  position:fixed; top:18px; left:50%; transform:translateX(-50%);
  z-index:1100; padding:12px 16px; border-radius:12px;
  background: rgba(250,250,252,.14); color:#fff; border:1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px) saturate(140%);
  box-shadow: 0 20px 40px rgba(0,0,0,.25);
  font-weight:800; opacity:0; transform-origin:top center;
  transition: opacity var(--t), transform var(--t);
}
.glass-toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }

/* =================== Light mode =================== */
body.light-mode{
  --bg:#f6f7fb; --text:#0f172a; --card:#ffffff; --card-border:#e5e7eb;
  --muted:#64748b; --muted-2:#94a3b8;
  color:var(--text);
}

.light-mode .header{ background:#ffffff; border-color:#e5e7eb; backdrop-filter:none; }
.light-mode .header.scrolled{ background: rgba(255,255,255,.85); border-color:#e5e7eb; backdrop-filter:saturate(140%) blur(6px); }

.light-mode .theme-toggle,.light-mode .search-btn{ background:#f1f5f9; border-color:#e2e8f0; color:#334155; }

.light-mode .tag{ background:#f1f5f9; border-color:#e2e8f0; color:#0f172a; }

/* chip y controles translúcidos */
.light-mode .address-chip{ background:rgba(255,255,255,.72); border-color:#e2e8f0; color:#334155; backdrop-filter: blur(8px); }
.light-mode .address-chip:hover{ background:rgba(255,255,255,.80); border-color:#cbd5e1; }
.light-mode .chip-icon{ background:#e9eef5; border-color:#d8dee9; }

.light-mode .card,.light-mode .hero-section{ background:#ffffff; border-color:#e5e7eb; box-shadow: 0 6px 18px rgba(15,23,42,.06); }

.light-mode .date-slider{ background:rgba(255,255,255,.72); border-color:#e2e8f0; backdrop-filter: blur(8px); }
.light-mode .date-btn{ background:#ffffff; border-color:#e2e8f0; color:#0f172a; }
.light-mode .date-body{ background:#ffffff; border:1px solid #e2e8f0; }
.light-mode .date-label{ color:#0f172a; }

/* Select triggers TRANSLÚCIDOS en claro */
.light-mode .select-trigger{
  background: rgba(255,255,255,.72);
  border-color:#e2e8f0;
  color:#0f172a;
  backdrop-filter: blur(8px);
}
.light-mode .select-menu{
  background: rgba(255,255,255,.78); border-color:#e2e8f0; backdrop-filter: blur(10px);
  box-shadow:0 18px 38px rgba(15,23,42,.12);
}
.light-mode .select-option{ color:#0f172a; }
.light-mode .select-option:hover{ background:#eef2f9; }
.light-mode .select-option.active{ background:rgba(16,185,129,.18); color:#065f46; }

.light-mode .time-slot.available{ background:rgba(16,185,129,.10); color:#0f766e; border-color:rgba(16,185,129,.25); }
.light-mode .time-slot.occupied{ background:rgba(239,68,68,.08); color:#b91c1c; border-color:rgba(239,68,68,.2); }
.light-mode .time-slot.selected{ background: rgba(37, 99, 235, .16); border-color: rgba(37, 99, 235, .32); color:#1e3a8a; box-shadow: 0 8px 22px rgba(37,99,235,.12); }
.light-mode .time-slot.locked{ opacity:.55; }

.light-mode .legend-item{ color:#475569; }
.light-mode .dot-selected{ background: rgba(37,99,235,.28); border-color: rgba(37,99,235,.35); }
.light-mode .dot-available{ background: rgba(16,185,129,.12); border-color: rgba(16,185,129,.25); }
.light-mode .dot-occupied{ background: rgba(239,68,68,.10); border-color: rgba(239,68,68,.22); }

/* Info */
.light-mode .description,.light-mode .contact-link{ color:#334155; }
.light-mode .icon{ background:#f1f5f9; border-color:#e2e8f0; color:#334155; }

/* Reseñas en claro */
.light-mode .review-item{ background:#f8fafc; border-color:#e2e8f0; }
.light-mode .reviewer-name{ color:#0f172a; }
.light-mode .review-date{ color:#64748b; }
.light-mode .review-text{ color:#1f2937; }
.light-mode .stars .star{ color:#cbd5e1; }
.light-mode .stars .star.filled{ color:#eab308; }
.light-mode .rating-meta{ color:#64748b; }
.light-mode .rating-score{ color:#0f172a; }

/* Botón secundario */
.light-mode .btn-secondary{ background:#f1f5f9; color:#0f172a; border-color:#e2e8f0; }

/* Modales y GLASS en claro — más translúcido (¡corregido!) */
.light-mode .modal{ background:rgba(0,0,0,.45); }
.light-mode .modal-content{ background:#ffffff; color:#0f172a; border-color:#e5e7eb; }
.light-mode .modal-glass{
  background: rgba(255,255,255,.60); /* más transparente */
  color:#0f172a; border-color:#e5e7eb;
  backdrop-filter: blur(14px) saturate(140%);
}
.light-mode .close-ghost{ background: rgba(0,0,0,.06); color:#0f172a; }

/* Galería en claro */
.light-mode .gallery-arrow{ color:#0f172a; text-shadow:none; }
.light-mode .gallery-counter{ color:#0f172a; }

/* Inputs en claro */
.light-mode .form-input{ background:#ffffff; border-color:#e2e8f0; color:#0f172a; }
.light-mode .form-input::placeholder{ color:#94a3b8; }

/* Toast en claro */
.light-mode .glass-toast{ background: rgba(255,255,255,.82); color:#0f172a; border-color: rgba(15,23,42,.12); }

/* Reveal */
.reveal{ transform: translateY(10px); opacity: 0; transition: opacity var(--t-slow), transform var(--t-slow); }
.reveal.is-visible{ transform: none; opacity: 1; }

/* Responsive */
@media (max-width: 960px){
  .planner-header{ gap:10px; }
  .date-slider{ order:1; flex: 1 1 100%; }
  #sportSelect{ order:2; flex:1 1 48%; }
  #courtSelect{ order:3; flex:1 1 48%; }
}
@media (max-width: 860px){
  .time-slots{ grid-template-columns: repeat(3,1fr); }
  .info-grid{ grid-template-columns: 1fr; }
  .price-section{ text-align:left; }
  .chip-text{ max-width: 72vw; }
}
