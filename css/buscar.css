/* ===== Base ===== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{max-width:100%;overflow-x:hidden}
:root{
  --bg:#0b0b0c; --text:#fff;
  --card:rgba(255,255,255,.05); --card-border:rgba(255,255,255,.08);
  --brand:#10b981; --brand-2:#059669; --yellow:#F6D36B;
  --radius-lg:18px; --shadow-soft:0 12px 22px rgba(0,0,0,.20);
  --shadow-raise:0 22px 48px rgba(16,185,129,.18), 0 14px 32px rgba(0,0,0,.22);
  --control-h:50px; /* pill más compacta */
  --fz:15px;
}
@media (prefers-reduced-motion:no-preference){:root{--t:.22s;--t-slow:.45s}}

body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:var(--bg);color:var(--text);font-size:var(--fz)}

/* Header */
.header{position:sticky;top:0;z-index:100;background:rgba(0,0,0,.85);border-bottom:1px solid rgba(255,255,255,.08);backdrop-filter:saturate(140%) blur(6px);transition:background var(--t)}
.header.scrolled{background:rgba(0,0,0,.78)}
.nav-container{max-width:1200px;margin:0 auto;padding:14px 20px;display:flex;justify-content:space-between;align-items:center}
.logo{display:flex;align-items:center;gap:12px;cursor:pointer}
.logo-icon{width:34px;height:34px;border-radius:8px;background:var(--brand);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
.logo-text{font-weight:800}
.nav-buttons{display:flex;gap:10px}
.theme-toggle,.search-btn{width:38px;height:38px;border-radius:50%;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);color:#fff;display:flex;align-items:center;justify-content:center}

/* Layout */
.container{max-width:1200px;margin:24px auto;padding:0 20px}
.search-hero{position:relative;margin-top:8px;margin-bottom:20px;overflow:hidden} /* evita overflow */
.search-hero::before{content:"";position:absolute;inset:-30%;background:
  radial-gradient(900px 320px at 0% -10%, rgba(16,185,129,.18), transparent 60%),
  radial-gradient(900px 420px at 110% 0%, rgba(16,185,129,.12), transparent 60%);filter:blur(18px)}
.hero-inner{position:relative;z-index:1;text-align:center;padding:28px 12px}
.hero-title{font-size:clamp(26px,3.4vw,40px);font-weight:900;letter-spacing:-.6px}

/* Cards */
.card{background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius-lg);padding:18px}
.search-card{position:relative;z-index:10;overflow:visible;margin-bottom:28px}

/* ===== Super Pill ===== */
.superbar{
  display:grid;grid-template-columns:1.4fr 1fr 1fr 1fr auto;gap:12px;align-items:center;
  background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);
  border-radius:999px;padding:8px 10px;backdrop-filter:blur(4px);
}

/* Ubicación */
.input-mini{position:relative;display:flex;align-items:center;gap:10px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:0 14px;height:var(--control-h)}
.mini-input{flex:1;background:transparent;border:0;outline:none;color:#e5e7eb;font-weight:800;font-size:15px}
.mini-input::placeholder{color:rgba(229,231,235,.6)}
.mini-clear{position:absolute;right:10px;width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,.09);border:1px solid rgba(255,255,255,.12);color:#e5e7eb;display:none;align-items:center;justify-content:center;cursor:pointer;font-size:18px}
.input-mini.has-text .mini-clear{display:flex}

/* Menús (sólidos sin transparencia) */
.mini-suggest,
.mini-menu{
  position:absolute;top:calc(100% + 10px);left:0;min-width:260px;max-width:min(360px,90vw);
  z-index:500;display:none;padding:6px;background:#0f1113;border:1px solid rgba(255,255,255,.12);
  border-radius:12px;box-shadow:0 18px 38px rgba(0,0,0,.4) /* sin blur */;
}
.input-mini.open .mini-suggest{display:block}
.select-mini.open .mini-menu{display:block}
.suggest-item,.mini-option{padding:12px 14px;border-radius:10px;color:#e5e7eb;cursor:pointer;transition:transform var(--t),background var(--t)}
.suggest-item:hover,.mini-option:hover{background:#1a1d21;transform:translateY(-1px)}
.mini-option.active{background:rgba(16,185,129,.22);color:#10b981}

/* Select compactos */
.select-mini{position:relative}
.mini-trigger{display:flex;align-items:center;gap:12px;height:var(--control-h);padding:0 16px;border-radius:999px;background:#0000;border:0;color:#e5e7eb;cursor:pointer;transition:transform var(--t)}
.mini-trigger:hover{transform:translateY(-1px)}
.mini-icon{display:inline-flex;align-items:center;justify-content:center;color:var(--brand)}
.mini-label{font-weight:900;white-space:nowrap;font-size:15px}
.mini-underline{display:block;height:2px;width:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2));opacity:.5;transform:scaleX(.2);transform-origin:left;transition:transform var(--t)}
.mini-trigger:hover .mini-underline{transform:scaleX(1)}

/* Calendario */
.calendar-pop{width:320px}
.cal-head{display:flex;align-items:center;justify-content:space-between;padding:8px 6px 4px}
.cal-title{font-weight:900}
.cal-nav{background:#1a1d21;border:1px solid rgba(255,255,255,.14);color:#e5e7eb;width:34px;height:34px;border-radius:10px;cursor:pointer;transition:transform var(--t)}
.cal-nav:hover{transform:translateY(-1px)}
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;padding:8px}
.cal-day,.cal-week{text-align:center;font-weight:800}
.cal-week{opacity:.6;padding:4px 0}
.cal-day{padding:11px 0;border-radius:10px;cursor:pointer;background:#121417;border:1px solid rgba(255,255,255,.1);transition:transform var(--t),background var(--t)}
.cal-day:hover{background:#1a1d21;transform:translateY(-1px)}
.cal-day.muted{opacity:.45}
.cal-day.today{border-color:rgba(16,185,129,.45)}
.cal-day.selected{background:rgba(16,185,129,.22);border-color:rgba(16,185,129,.5);color:#10b981}

/* Botones */
.btn{padding:12px 16px;border-radius:14px;border:0;cursor:pointer;font-weight:900;font-size:15px}
.btn-primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff}
.btn-ghost{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.14)}
.btn-raise{transition:transform var(--t),box-shadow var(--t)}.btn-raise:hover{transform:translateY(-1px) scale(1.015);box-shadow:var(--shadow-raise)}
.superbar-cta{justify-self:end}

/* Chips */
.quick-filters{margin-top:14px;position:relative;z-index:1}
.group-label{font-weight:900;opacity:.9;display:block;margin:0 8px 8px}
.chips-wrap{display:flex;flex-wrap:wrap;gap:10px}
.filter-chip{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;cursor:pointer;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.14);color:#e5e7eb;font-weight:800;transition:transform var(--t),box-shadow var(--t),background var(--t),border-color var(--t)}
.filter-chip:hover{transform:translateY(-1px);box-shadow:var(--shadow-soft)}
.filter-chip.active{background:rgba(16,185,129,.20);border-color:rgba(16,185,129,.35);color:#10b981}
.filters-actions{display:none;justify-content:flex-end;margin-top:10px}
.filters-actions.show{display:flex}

/* Resultados */
#resultsWrap{min-height:44vh;display:flex}
.results-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;width:100%}
.result-card{min-height:540px;position:relative;overflow:hidden;background:var(--card);border:1px solid var(--card-border);border-radius:22px;display:flex;flex-direction:column;cursor:pointer;transition:transform var(--t),box-shadow var(--t),border-color var(--t)}
.result-card:hover{transform:translateY(-4px) scale(1.012);box-shadow:var(--shadow-raise);border-color:rgba(16,185,129,.30)}
.result-cover{height:300px;overflow:hidden;flex:0 0 auto}
.result-cover img{width:100%;height:100%;object-fit:cover;transform:scale(1);transition:transform .5s cubic-bezier(.2,.65,.2,1)}
.result-card:hover .result-cover img{transform:scale(1.12)}
.result-body{padding:20px;display:flex;flex-direction:column;gap:12px;flex:1}
.result-title{font-weight:900;font-size:22px;letter-spacing:-.2px}
.address-chip{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;width:100%;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.14);color:#e5e7eb;transition:transform var(--t),box-shadow var(--t),border-color var(--t),background var(--t)}
.address-chip:hover{transform:translateY(-1px);box-shadow:var(--shadow-soft);border-color:rgba(255,255,255,.22)}
.chip-icon{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;background:rgba(255,255,255,.09);border:1px solid rgba(255,255,255,.14);border-radius:8px}
.tags{display:flex;flex-wrap:wrap;gap:8px}
.tag{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.14);color:#e5e7eb;padding:8px 12px;border-radius:999px;font-weight:800;font-size:13px;cursor:pointer;transition:transform var(--t),box-shadow var(--t)}
.tag:hover{transform:translateY(-1px);box-shadow:var(--shadow-soft)}
.card-footer{margin-top:auto;display:flex;justify-content:space-between;align-items:center;gap:8px}
.rating-wrap{display:flex;align-items:center;gap:10px}
.stars .star{font-size:22px;color:rgba(255,255,255,.28)}.stars .star.filled{color:#F6D36B}
.rating-number{font-weight:900;opacity:.92}
.btn-ghost{padding:12px 16px;border-radius:12px}

/* Empty centrado */
.empty-center{margin:auto;text-align:center}
.empty-center .icon{margin-bottom:10px}
.empty-center .title{font-weight:900;font-size:18px;margin-bottom:4px}
.empty-center .sub{opacity:.75;margin-bottom:12px}

/* Light mode */
body.light-mode{--bg:#f6f7fb;--text:#0f172a;--card:#fff;--card-border:#e5e7eb}
.light-mode .header{background:#fff;border-color:#e5e7eb}
.light-mode .header.scrolled{background:rgba(255,255,255,.85)}
.light-mode .card{background:#fff;border-color:#e5e7eb;box-shadow:0 8px 20px rgba(15,23,42,.06)}
.light-mode .superbar{background:#fff;border-color:#e2e8f0}
.light-mode .input-mini{background:#fff;border-color:#e2e8f0}
.light-mode .mini-input{color:#0f172a}
.light-mode .mini-suggest,.light-mode .mini-menu{background:#ffffff;border-color:#e2e8f0;box-shadow:0 18px 38px rgba(15,23,42,.12)}
.light-mode .suggest-item:hover,.light-mode .mini-option:hover{background:#eef2f9}
.light-mode .mini-option.active{background:rgba(16,185,129,.18);color:#065f46}
.light-mode .filter-chip{background:#f1f5f9;border-color:#e2e8f0;color:#0f172a}
.light-mode .filter-chip.active{background:rgba(16,185,129,.20);border-color:rgba(16,185,129,.32);color:#065f46}
.light-mode .result-card{background:#fff;border-color:#e5e7f0}
.light-mode .address-chip{background:#f8fafc;border-color:#e2e8f0;color:#334155}
.light-mode .chip-icon{background:#e9eef5;border-color:#d8dee9}
.light-mode .tag{background:#f1f5f9;border-color:#e2e8f0;color:#0f172a}
.light-mode .stars .star{color:#94a3b8}.light-mode .stars .star.filled{color:#eab308}

/* Responsive */
@media (max-width:1120px){.superbar{grid-template-columns:1fr 1fr 1fr 1fr auto}}
@media (max-width:860px){
  .superbar{grid-template-columns:1fr 1fr;row-gap:12px}
  .superbar-cta{justify-self:end}
  .results-grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:640px){.results-grid{grid-template-columns:1fr}}
